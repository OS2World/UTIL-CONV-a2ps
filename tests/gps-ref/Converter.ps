%%Page: (1) 1
%%BeginPageSetup
/pagesave save def
%%EndPageSetup
iso1dict begin
(Test Files) 35.25 water
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 4.431713 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
0 T (/*) c n
0 T ( * Copyright \(c\) 1994 Sun Microsystems, Inc. All Rights Reserved.) N
0 T ( *) N
0 T ( * Permission to use, copy, modify, and distribute this software) N
(5) # ( * and its documentation for NON-COMMERCIAL purposes and without) N
0 T ( * fee is hereby granted provided that this copyright notice) N
0 T ( * appears in all copies. Please refer to the file "copyright.html") N
0 T ( * for further important copyright and licensing information.) N
0 T ( *) N
(10) # ( * SUN MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE SUITABILITY OF) N
0 T ( * THE SOFTWARE, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED) N
0 T ( * TO THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A) N
0 T ( * PARTICULAR PURPOSE, OR NON-INFRINGEMENT. SUN SHALL NOT BE LIABLE FOR) N
0 T ( * ANY DAMAGES SUFFERED BY LICENSEE AS A RESULT OF USING, MODIFYING OR) N
(15) # ( * DISTRIBUTING THIS SOFTWARE OR ITS DERIVATIVES.) N
0 T ( */) N
0 T (/* This program could use some layout work, and the functionality) N
0 T ( * could use some tweaking, but it seems to basically work.) N
0 T ( */) N
(20) # () S
(import) K
( java.awt.*;) p n
0 T () S
(import) K
( java.util.*;) p n
0 T () S
(import) K
( java.applet.Applet;) p n
0 T () N
0 T () S
(public) K
( ) p
(class) K
( ) p
(Converter) L
( ) p
(extends) K
( Applet {) p n
(25) # (    Frame window;) N
0 T (    ConversionPanel metricPanel, usaPanel;) N
0 T (    Unit metricDistances[] = ) S
(new) K
( Unit[3];) p n
0 T (    Unit usaDistances[] = ) S
(new) K
( Unit[4];) p n
0 T () N
(30) # (    ) S
(/** Create the ConversionPanels \(one for metric, another for U.S.\).) C n
0 T (      * I used "U.S." because although Imperial and U.S. distance) N
0 T (      * measurements are the same, this program could be extended to) N
0 T (      * include volume measurements, which aren't the same.) N
0 T (      */) N
(35) # () S
(    ) p
(public) K
( ) p
(void) k
( init\(\) {) p n
0 T () S 8 T (setLayout\() S
(new) K
( GridLayout\(2,0,5,5\)\);) p n
0 T () N
0 T () S 8 T (metricDistances[0] = ) S
(new) K
( Unit\(") p
(Centimeters) str
(", 0.01\);) p n
0 T () S 8 T (metricDistances[1] = ) S
(new) K
( Unit\(") p
(Meters) str
(", 1.0\);) p n
(40) # () S 8 T (metricDistances[2] = ) S
(new) K
( Unit\(") p
(Kilometers) str
(", 1000.0\);) p n
0 T () S 8 T (metricPanel = ) S
(new) K
( ConversionPanel\() p
(this) k
(, ") p
(Metric System) str
(",) p n
0 T () S 8 T () S 16 T () S 24 T () S 32 T (  ) S 40 T (  metricDistances\);) N
0 T () N
0 T () S 8 T (usaDistances[0] = ) S
(new) K
( Unit\(") p
(Inches) str
(", 0.0254\);) p n
(45) # () S 8 T (usaDistances[1] = ) S
(new) K
( Unit\(") p
(Feet) str
(", 0.305\);) p n
0 T () S 8 T (usaDistances[2] = ) S
(new) K
( Unit\(") p
(Yards) str
(", 0.914\);) p n
0 T () S 8 T (usaDistances[3] = ) S
(new) K
( Unit\(") p
(Miles) str
(", 1613.0\);) p n
0 T () S 8 T (usaPanel = ) S
(new) K
( ConversionPanel\() p
(this) k
(, ") p
(U.S. System) str
(", usaDistances\);) p n
0 T () N
(50) # () S 8 T (add\(metricPanel\);) N
0 T () S 8 T (add\(usaPanel\);) N
0 T (    }) N
0 T () N
0 T (    ) S
(/** Does the conversion from metric to U.S., or vice versa, and) C n
(55) # (      * updates the appropriate ConversionPanel. */) N
0 T () S
(    ) p
(void) k
( convert\(ConversionPanel from\) {) p n
0 T () S 8 T (ConversionPanel to;) N
0 T () N
0 T () S 8 T () S
(if) K
( \(from ) p
(\272) sy
( metricPanel\)) p n
(60) # () S 8 T (    to = usaPanel;) N
0 T () S 8 T () S
(else) K n
0 T () S
() p 8 T (    to = metricPanel;) N
0 T () S 8 T () S
(double) k
( multiplier = from.getMultiplier\(\) / to.getMultiplier\(\);) p n
0 T () S 8 T (to.setValue\(from.getValue\(\) * multiplier\);) N
(65) # (    }) N
0 T () N
0 T (    ) S
(/** Draws a box around this panel. */) C n
0 T () S
(    ) p
(public) K
( ) p
(void) k
( paint\(Graphics g\) {) p n
0 T () S 8 T (Dimension d = size\(\);) N
(70) # () S 8 T (g.drawRect\(0,0, d.width - 1, d.height - 1\);) N
(Converter.java) (right) (1) title
border
grestore
(The room for the header) rhead
(Printed by Somebody from a machine) (Right) (1) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (2) 2
%%BeginPageSetup
/pagesave save def
%%EndPageSetup
iso1dict begin
(Test Files) 35.25 water
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 4.431713 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
0 T (    }) p n
0 T () S 8 T () N
0 T (    ) S
(/** Puts a little breathing space between) C n
0 T (      * the panel and its contents, which lets us draw a box) N
(75) # (      * in the paint\(\) method.) N
0 T (      */) N
0 T () S
(    ) p
(public) K
( Insets insets\(\) {) p n
0 T () S 8 T () S
(return) K
( ) p
(new) K
( Insets\(5,5,5,5\);) p n
0 T (    }) N
(80) # () N
0 T (    ) S
(public) K
( ) p
(static) K
( ) p
(void) k
( main\(String args[]\) {) p n
0 T () S 8 T (Frame f = ) S
(new) K
( Frame\(") p
(Converter Applet/Application) str
("\);) p n
0 T () S 8 T (Converter converter = ) S
(new) K
( Converter\(\);) p n
0 T () N
(85) # () S 8 T (converter.init\(\);) N
0 T () N
0 T () S 8 T (f.add\(") S
(Center) str
(", converter\);) p n
0 T () S 8 T (f.pack\(\);) N
0 T () S 8 T (f.show\(\);) N
(90) # (    }) N
0 T () N
0 T (}) N
0 T () N
0 T () N
(95) # () S
(class) K
( ) p
(ConversionPanel) L
( ) p
(extends) K
( Panel {) p n
0 T (    String title;) N
0 T (    TextField textField;) N
0 T (    Scrollbar slider;) N
0 T (    Choice unitChooser;) N
(100) # (    ) S
(int) k
( min = 0;) p n
0 T (    ) S
(int) k
( max = 10000;) p n
0 T (    Converter controller;) N
0 T (    Unit units[];) N
0 T () N
(105) # (    ) S
(//TO DO: Should make both panels' choices the same width.) c n
0 T () S
(    ConversionPanel\(Converter myController, String myTitle, Unit myUnits[]\) {) p n
0 T () S 8 T () S
(super) K
(\(\);) p n
0 T () S 8 T (GridBagConstraints c = ) S
(new) K
( GridBagConstraints\(\);) p n
0 T () S 8 T (GridBagLayout gridbag = ) S
(new) K
( GridBagLayout\(\);) p n
(110) # () S 8 T (setLayout\(gridbag\);) N
0 T () S 8 T (controller = myController;) N
0 T () S 8 T (title = myTitle;) N
0 T () S 8 T (units = myUnits;) N
0 T () N
(115) # () S 8 T () S
(//Set up default constraints) c n
0 T () S
() p 8 T (c.fill = GridBagConstraints.HORIZONTAL;) N
0 T () N
0 T () S 8 T () S
(//Add the label) c n
0 T () S
() p 8 T (Label label = ) S
(new) K
( Label\(title, Label.CENTER\);) p n
(120) # () S 8 T (c.weightx = 0.0;) N
0 T () S 8 T (c.gridwidth = GridBagConstraints.REMAINDER;) N
0 T () S 8 T (gridbag.setConstraints\(label, c\);) N
0 T () S 8 T (add\(label\);) N
0 T () N
(125) # () S 8 T () S
(//Add the text field) c n
0 T () S
() p 8 T (textField = ) S
(new) K
( TextField\(") p
(0) str
(", 10\);) p n
0 T () S 8 T (c.weightx = 1.0;) N
0 T () S 8 T (c.gridwidth = GridBagConstraints.RELATIVE;) N
0 T () S 8 T (gridbag.setConstraints\(textField, c\);) N
(130) # () S 8 T (add\(textField\);) N
0 T () N
0 T () S 8 T () S
(//Add the pop-up list \(Choice\)) c n
0 T () S
() p 8 T (unitChooser = ) S
(new) K
( Choice\(\);) p n
0 T () S 8 T () S
(for) K
( \() p
(int) k
( i = 0; i < units.length; i++\) {) p n
(135) # () S 8 T (    unitChooser.addItem\(units[i].description\);) N
0 T () S 8 T (}) N
0 T () S 8 T (c.weightx = 0.0;) N
0 T () S 8 T (c.gridwidth = GridBagConstraints.REMAINDER;) N
0 T () S 8 T (gridbag.setConstraints\(unitChooser, c\);) N
(140) # () S 8 T (add\(unitChooser\);) N
(Converter.java) (right) (2) title
border
grestore
(The room for the header) rhead
(Printed by Somebody from a machine) (Right) (2) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (3) 3
%%BeginPageSetup
/pagesave save def
%%EndPageSetup
iso1dict begin
(Test Files) 35.25 water
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 4.431713 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
0 T () p n
0 T () S 8 T () S
(//Add the slider) c n
0 T () S
() p 8 T (slider = ) S
(new) K
( Scrollbar\(Scrollbar.HORIZONTAL, 0, 100, min, max\);) p n
0 T () S 8 T (c.weightx = 0.0;) N
(145) # () S 8 T (c.gridheight = 1;) N
0 T () S 8 T (c.gridwidth = GridBagConstraints.RELATIVE;) N
0 T () S 8 T (gridbag.setConstraints\(slider, c\);) N
0 T () S 8 T (add\(slider\);) N
0 T (    }) N
(150) # () N
0 T (    ) S
(/** Returns the multiplier \(units/meter\) for the currently) C n
0 T (      * selected unit of measurement.) N
0 T (      */) N
0 T () S
(    ) p
(double) k
( getMultiplier\(\) {) p n
(155) # () S 8 T () S
(int) k
( i = unitChooser.getSelectedIndex\(\);) p n
0 T () S 8 T () S
(return) K
( \(units[i].multiplier\);) p n
0 T (    }) N
0 T () N
0 T (    ) S
(/** Draws a box around this panel. */) C n
(160) # () S
(    ) p
(public) K
( ) p
(void) k
( paint\(Graphics g\) {) p n
0 T () S 8 T (Dimension d = size\(\);) N
0 T () S 8 T (g.drawRect\(0,0, d.width - 1, d.height - 1\);) N
0 T (    }) N
0 T () S 8 T () N
(165) # (    ) S
(/** Puts a little breathing space between) C n
0 T (      * the panel and its contents, which lets us draw a box) N
0 T (      * in the paint\(\) method.) N
0 T (      * We add more pixels to the right, to work around a) N
0 T (      * Choice bug.) N
(170) # (      */) N
0 T () S
(    ) p
(public) K
( Insets insets\(\) {) p n
0 T () S 8 T () S
(return) K
( ) p
(new) K
( Insets\(5,5,5,8\);) p n
0 T (    }) N
0 T () N
(175) # (    ) S
(/** Gets the current value in the text field.) C n
0 T (      * That's guaranteed to be the same as the value) N
0 T (      * in the scroller \(subject to rounding, of course\).) N
0 T (      */) N
0 T () S
(    ) p
(double) k
( getValue\(\) {) p n
(180) # () S 8 T () S
(double) k
( f;) p n
0 T () S 8 T () S
(try) K
( {) p n
0 T () S 8 T (    f = Double.valueOf\(textField.getText\(\)\).doubleValue\(\); ) N
0 T () S 8 T (} ) S
(catch) K
( \(java.lang.NumberFormatException e\) {) p n
0 T () S 8 T (    f = 0.0;) N
(185) # () S 8 T (}) N
0 T () S 8 T () S
(return) K
( f;) p n
0 T (    }) N
0 T () N
0 T (    ) S
(/** Respond to user actions. */) C n
(190) # () S
(    ) p
(public) K
( ) p
(boolean) k
( handleEvent\(Event e\) {) p n
0 T () S 8 T () S
(if) K
( \(e.target ) p
(instanceof) K
( Scrollbar\) {) p n
0 T () S 8 T (    textField.setText\(String.valueOf\(slider.getValue\(\)\)\);) N
0 T () S 8 T (    controller.convert\() S
(this) k
(\);) p n
0 T () S 8 T (} ) S
(else) K
( ) p
(if) K
( \(\(e.target ) p
(instanceof) K
( TextField\) ) p n
(195) # () S 8 T () S 16 T (   ) S
(\331) sy
( \(e.id ) p
(\272) sy
( Event.ACTION_EVENT\)\) {) p n
0 T () S 8 T (    setSliderValue\(getValue\(\)\);) N
0 T () S 8 T (    controller.convert\() S
(this) k
(\);) p n
0 T () S 8 T (} ) S
(else) K
( ) p
(if) K
( \(\(e.target ) p
(instanceof) K
( Choice\) ) p n
0 T () S 8 T () S 16 T (   ) S
(\331) sy
( \(e.id ) p
(\272) sy
( Event.ACTION_EVENT\)\) {) p n
(200) # () S 8 T (    controller.convert\() S
(this) k
(\);) p n
0 T () S 8 T (} ) N
0 T () S 8 T () S
(return) K
( ) p
(false) k
(;) p n
0 T (    }) N
0 T () N
(205) # (    ) S
(/** Set the values in the slider and text field. */) C n
0 T () S
(    ) p
(void) k
( setValue\() p
(double) k
( f\) {) p n
0 T () S 8 T (setSliderValue\(f\);) N
0 T (        textField.setText\(String.valueOf\(f\)\);) N
0 T (    }) N
(210) # () N
(Converter.java) (right) (3) title
border
grestore
(The room for the header) rhead
(Printed by Somebody from a machine) (Right) (3) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (4) 4
%%BeginPageSetup
/pagesave save def
%%EndPageSetup
iso1dict begin
(Test Files) 35.25 water
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 4.431713 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
0 T (    ) p
(/** Set the slider value. */) C n
0 T () S
(    ) p
(void) k
( setSliderValue\() p
(double) k
( f\) {) p n
0 T () S 8 T () S
(int) k
( sliderValue = \() p
(int) k
(\)f;) p n
0 T () N
(215) # () S 8 T () S
(if) K
( \(sliderValue > max\)) p n
0 T (   ) S 8 T (    sliderValue = max;) N
0 T () S 8 T () S
(if) K
( \(sliderValue < min\)) p n
0 T () S 8 T (    sliderValue = min;) N
0 T (        slider.setValue\(sliderValue\);) N
(220) # (    }) N
0 T (}) N
0 T () N
0 T () N
0 T () S
(class) K
( ) p
(Unit) L
( {) p n
(225) # (    String description;) N
0 T (    ) S
(double) k
( multiplier;) p n
0 T () N
0 T (    Unit\(String description, ) S
(double) k
( multiplier\) {) p n
0 T () S 8 T () S
(super) K
(\(\);) p n
(230) # () S 8 T (this.description = description;) N
0 T () S 8 T (this.multiplier = multiplier;) N
0 T (    }) N
0 T () N
0 T (    ) S
(public) K
( String toString\(\) {) p n
(235) # () S 8 T (String s = ") S
(Meters/) str
(" + description + ") p
( = ) str
(" + multiplier;) p n
0 T () S 8 T () S
(return) K
( s;) p n
0 T (    }) N
0 T (}) N
(Converter.java) (right) (4) title
border
grestore
(The room for the header) rhead
(Printed by Somebody from a machine) (Right) (4) footer
end % of iso1dict
pagesave restore
showpage

%%Trailer
end
%%EOF
